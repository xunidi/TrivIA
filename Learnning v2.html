<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kahoot de IA Generativa</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@400;700&family=Exo+2:wght@700;900&display=swap');

        :root {
            --bg-color: #0d0c22;
            --primary-color: #6f42c1;
            --secondary-color: #00f5c3;
            --text-color: #f0f0f0;
            --card-bg: #1a1a3a;
            --correct-color: #28a745;
            --incorrect-color: #dc3545;
        }

        body {
            font-family: 'Roboto Mono', monospace;
            background-color: var(--bg-color);
            color: var(--text-color);
            margin: 0;
            padding: 20px;
            text-align: center;
            overflow-x: hidden;
            background-image:
                radial-gradient(circle at 20% 20%, rgba(111, 66, 193, 0.3), transparent 30%),
                radial-gradient(circle at 80% 80%, rgba(0, 245, 195, 0.3), transparent 30%);
            background-attachment: fixed;
        }

        h1, h2 {
            font-family: 'Exo 2', sans-serif;
            text-transform: uppercase;
            letter-spacing: 3px;
            text-shadow: 0 0 10px var(--secondary-color), 0 0 20px var(--primary-color);
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
        }

        section {
            background: var(--card-bg);
            padding: 40px;
            border-radius: 15px;
            border: 1px solid var(--primary-color);
            box-shadow: 0 0 20px rgba(111, 66, 193, 0.5);
            margin-bottom: 40px;
        }

        /* --- Lobby Section --- */
        .input-group {
            margin: 20px 0;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
        }

        input[type="text"] {
            padding: 10px;
            border-radius: 5px;
            border: 2px solid var(--primary-color);
            background: var(--bg-color);
            color: var(--text-color);
            font-family: 'Roboto Mono', monospace;
            text-align: center;
            font-size: 1.2rem;
        }

        button {
            padding: 12px 25px;
            border: none;
            border-radius: 5px;
            background-color: var(--primary-color);
            color: var(--text-color);
            font-family: 'Exo 2', sans-serif;
            font-size: 1rem;
            text-transform: uppercase;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 0 10px rgba(0, 245, 195, 0.5);
            margin-top: 10px;
        }

        button:hover {
            background-color: var(--secondary-color);
            color: var(--bg-color);
            box-shadow: 0 0 20px rgba(0, 245, 195, 0.8);
            transform: scale(1.05);
        }

        #game-link {
            margin-top: 20px;
            background: rgba(0, 0, 0, 0.3);
            padding: 15px;
            border-radius: 10px;
        }

        #shareable-link {
            word-break: break-all;
            color: var(--secondary-color);
            font-weight: bold;
        }

        /* --- Glossary Section --- */
        .card-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .glossary-card {
            background: var(--card-bg);
            padding: 20px;
            border-radius: 10px;
            border: 1px solid var(--primary-color);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .glossary-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 245, 195, 0.2);
        }

        .term-pair {
            display: flex;
            justify-content: space-between;
            font-family: 'Exo 2', sans-serif;
            font-size: 1.3rem;
            margin-bottom: 15px;
            border-bottom: 2px solid var(--secondary-color);
            padding-bottom: 10px;
        }

        .term-pair span:first-child { color: var(--secondary-color); }
        .term-pair span:last-child { color: var(--primary-color); }

        .definition {
            font-size: 0.9rem;
            line-height: 1.6;
            margin-bottom: 10px;
            text-align: left;
        }

        .example {
            font-size: 0.8rem;
            font-style: italic;
            color: #aaa;
            text-align: left;
        }

        /* --- Quiz Section --- */
        #quiz {
            border-color: var(--secondary-color);
        }

        #question-container {
            font-size: 1.5rem;
            margin-bottom: 30px;
            min-height: 60px;
        }

        #options-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }

        .option-btn {
            padding: 20px;
            font-size: 1.1rem;
            background: var(--primary-color);
            color: white;
            border: 2px solid transparent;
        }

        .option-btn.correct { background-color: var(--correct-color); transform: scale(1.05); }
        .option-btn.incorrect { background-color: var(--incorrect-color); }

        #progress-container {
            margin-top: 30px;
            font-size: 1.2rem;
        }
        
        /* --- Results Screen --- */
        #results-screen h2 {
            color: var(--secondary-color);
        }

        #final-score-text {
            font-size: 1.5rem;
            font-weight: bold;
        }

        .results-buttons {
            margin-top: 30px;
            display: flex;
            justify-content: center;
            gap: 20px;
        }

        /* General Visibility */
        .hidden {
            display: none;
        }
    </style>
</head>
<body>

    <div class="container">
        <h1>Kahoot de IA Generativa</h1>

        <section id="lobby">
            <h2>¡Bienvenido!</h2>
            <p>Crea un juego para obtener un código y compartirlo, o únete a una partida existente.</p>
            <button id="create-game-btn">Crear Juego Nuevo</button>
            <div class="input-group">
                <input type="text" id="game-code-input" placeholder="Ingresar Código">
                <button id="join-game-btn">Unirse</button>
            </div>
            <div id="game-link" class="hidden">
                <p>¡Juego Creado! Comparte este código o el link:</p>
                <p>Código: <strong id="game-code-display"></strong></p>
                <p>Link: <a id="shareable-link" href="#"></a></p>
                <button id="start-learning-btn">Comenzar Aprendizaje</button>
            </div>
        </section>

        <section id="glossary" class="hidden">
            <h2>Paso 1: Repasa el Glosario</h2>
            <p>Familiarízate con los términos. Cuando te sientas listo, presiona el botón para iniciar el quizz.</p>
            <div class="card-container">
                </div>
            <button id="finish-review-btn">¡Listo para el Quizz!</button>
        </section>

        <section id="quiz" class="hidden">
            <h2>Paso 2: ¡A Jugar!</h2>
            <p id="progress-container">Pregunta <span id="current-question"></span> de <span id="total-questions"></span></p>
            <div id="question-container"></div>
            <div id="options-container">
                <button class="option-btn"></button>
                <button class="option-btn"></button>
                <button class="option-btn"></button>
                <button class="option-btn"></button>
            </div>
        </section>

        <section id="results-screen" class="hidden">
            <h2>¡Quiz Finalizado!</h2>
            <p>El aprendizaje es un viaje, no un destino. ¡Sigue explorando el mundo de la IA!</p>
            <p id="final-score-text">Tu resultado: <span id="final-score"></span> / <span id="total-questions-final"></span></p>
            <div class="results-buttons">
                <button id="restart-quiz-btn">Reiniciar Quizz</button>
                <button id="return-to-glossary-btn">Regresar al Glosario</button>
            </div>
        </section>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- DATA FROM PDF ---
            const glossaryData = [
                { term1: "Bot", term2: "Agente IA", def1: "Ejecuta tareas predefinidas, con reglas fijas.", ex1: "Bots de FAQs, redes sociales.", def2: "Actúa con autonomía, aprende y toma decisiones.", ex2: "Copilot en programación, asistentes avanzados." },
                { term1: "Machine Learning", term2: "Deep Learning", def1: "Modelos que aprenden de datos con features definidos por humanos.", ex1: "Predicciones de ventas, detección de fraudes.", def2: "Subconjunto de ML con redes neuronales profundas.", ex2: "Reconocimiento de voz, visión por computadora." },
                { term1: "IA Generativa", term2: "IA Predictiva", def1: "Crea contenido nuevo (texto, imágenes, música).", ex1: "MidJourney, ChatGPT, Suno.", def2: "Predice resultados a partir de patrones históricos.", ex2: "Predicción del clima, riesgo financiero." },
                { term1: "NLP", term2: "LLM", def1: "Campo de la IA que procesa el lenguaje humano.", ex1: "Análisis de sentimiento, traducción automática.", def2: "Modelo entrenado con grandes cantidades de texto.", ex2: "ChatGPT, Claude, Gemini." },
                { term1: "Asistente Virtual", term2: "Embajador Digital", def1: "Apoya en productividad, tareas administrativas.", ex1: "Siri, Alexa, Copilot.", def2: "Representa una marca con personalidad propia.", ex2: "Olivia, influencers digitales corporativos." },
                { term1: "Entrenamiento", term2: "Fine-tuning", def1: "Proceso de enseñar un modelo desde cero.", ex1: "Entrenar un modelo de visión desde datos iniciales.", def2: "Ajuste fino de un modelo ya entrenado.", ex2: "Adaptar ChatGPT para un sector específico." },
                { term1: "Prompt", term2: "Prompt Engineering", def1: "Instrucción básica dada a un modelo.", ex1: "Escribir: resume este texto.", def2: "Técnica avanzada para diseñar prompts efectivos.", ex2: "Diseñar un prompt que guíe tono, estilo y salida esperada." },
                { term1: "Dataset", term2: "Data Lake", def1: "Conjunto estructurado y limitado de datos.", ex1: "Dataset de imágenes etiquetadas.", def2: "Repositorio amplio que guarda datos en bruto.", ex2: "Almacén de logs, imágenes, videos sin procesar." },
                { term1: "Aprendizaje Supervisado", term2: "Aprendizaje No Supervisado", def1: "Usa datos etiquetados para entrenar.", ex1: "Clasificación de correos spam/no spam.", def2: "Descubre patrones sin etiquetas.", ex2: "Agrupar clientes por comportamiento." },
                { term1: "API", term2: "Framework", def1: "Interfaz para conectar servicios o aplicaciones.", ex1: "API de OpenAI para usar ChatGPT.", def2: "Conjunto de herramientas para construir aplicaciones.", ex2: "TensorFlow, PyTorch para construir modelos." },
                { term1: "Cloud AI", term2: "Edge AI", def1: "Procesamiento en la nube con alta capacidad.", ex1: "Google Cloud AI, Azure AI.", def2: "Procesamiento local en dispositivos.", ex2: "IA en autos autónomos, IoT en tiempo real." },
                { term1: "Reconocimiento de Imagen", term2: "Computer Vision", def1: "Identificar objetos o patrones en imágenes.", ex1: "Detectar caras en fotos.", def2: "Campo más amplio que incluye análisis e interpretación visual.", ex2: "Reconocimiento de gestos, análisis de video." },
                { term1: "Speech-to-Text", term2: "Text-to-Speech", def1: "Convierte voz en texto.", ex1: "Transcripción de entrevistas.", def2: "Convierte texto en voz.", ex2: "Lectores de pantalla, asistentes virtuales." },
                { term1: "Avatar Digital", term2: "Gemelo Digital", def1: "Representación visual de una persona real o ficticia.", ex1: "Influencers virtuales, personajes en 3D.", def2: "Réplica virtual de un sistema u objeto físico.", ex2: "Simulación de fábricas, ciudades inteligentes." },
                { term1: "Bias en IA", term2: "Ruido en Datos", def1: "Sesgo en el modelo causado por datos no representativos.", ex1: "IA que discrimina por género o raza.", def2: "Variabilidad aleatoria que afecta calidad de datos.", ex2: "Errores en sensores, inconsistencias." }
            ];

            const quizQuestions = [
                { question: "¿Cuál de los siguientes actúa con autonomía, aprende y toma decisiones?", options: ["Bot", "Agente IA", "API", "Framework"], answer: "Agente IA" },
                { question: "¿Qué subconjunto de Machine Learning utiliza redes neuronales profundas?", options: ["Aprendizaje Supervisado", "Deep Learning", "IA Predictiva", "NLP"], answer: "Deep Learning" },
                { question: "ChatGPT y MidJourney son ejemplos de:", options: ["IA Predictiva", "IA Generativa", "Cloud AI", "Edge AI"], answer: "IA Generativa" },
                { question: "¿Qué es un modelo entrenado con grandes cantidades de texto, como Gemini o Claude?", options: ["NLP", "API", "LLM", "Dataset"], answer: "LLM" },
                { question: "El proceso de ajustar un modelo ya entrenado para una tarea específica se llama:", options: ["Entrenamiento", "Fine-tuning", "Prompt Engineering", "Data Lake"], answer: "Fine-tuning" },
                { question: "Un repositorio amplio que guarda datos en bruto (sin procesar) es un:", options: ["Dataset", "Data Lake", "Framework", "Gemelo Digital"], answer: "Data Lake" },
                { question: "La IA que se procesa localmente en dispositivos como autos autónomos se conoce como:", options: ["Google Cloud AI", "Cloud AI", "Azure AI", "Edge AI"], answer: "Edge AI" },
                { question: "¿Qué término describe una réplica virtual de un sistema u objeto físico para simulaciones?", options: ["Avatar Digital", "Embajador Digital", "Bot", "Gemelo Digital"], answer: "Gemelo Digital" },
                { question: "Un sesgo en un modelo causado por datos de entrenamiento no representativos se llama:", options: ["Ruido en Datos", "Bias en IA", "Fine-tuning", "Prompt"], answer: "Bias en IA" },
                { question: "TensorFlow y PyTorch son ejemplos de...", options: ["APIs", "Frameworks", "LLMs", "Data Lakes"], answer: "Frameworks" }
            ];

            // --- DOM Elements ---
            const lobbySection = document.getElementById('lobby');
            const glossarySection = document.getElementById('glossary');
            const quizSection = document.getElementById('quiz');
            const resultsSection = document.getElementById('results-screen');
            
            const createGameBtn = document.getElementById('create-game-btn');
            const joinGameBtn = document.getElementById('join-game-btn');
            const startLearningBtn = document.getElementById('start-learning-btn');
            const gameCodeInput = document.getElementById('game-code-input');
            const gameLinkContainer = document.getElementById('game-link');
            const gameCodeDisplay = document.getElementById('game-code-display');
            const shareableLink = document.getElementById('shareable-link');
            const finishReviewBtn = document.getElementById('finish-review-btn');
            
            const questionContainer = document.getElementById('question-container');
            const optionsContainer = document.getElementById('options-container');
            const optionButtons = optionsContainer.querySelectorAll('.option-btn');
            const currentQuestionSpan = document.getElementById('current-question');
            const totalQuestionsSpan = document.getElementById('total-questions');
            
            const finalScoreSpan = document.getElementById('final-score');
            const totalQuestionsFinalSpan = document.getElementById('total-questions-final');
            const restartQuizBtn = document.getElementById('restart-quiz-btn');
            const returnToGlossaryBtn = document.getElementById('return-to-glossary-btn');

            let currentQuestionIndex = 0;
            let score = 0;
            
            // --- Functions ---
            function populateGlossary() {
                const container = document.querySelector('.card-container');
                container.innerHTML = '';
                glossaryData.forEach(item => {
                    const card = document.createElement('div');
                    card.className = 'glossary-card';
                    card.innerHTML = `
                        <div class="term-pair">
                            <span>${item.term1}</span>
                            <span>vs</span>
                            <span>${item.term2}</span>
                        </div>
                        <p class="definition"><strong>${item.term1}:</strong> ${item.def1}</p>
                        <p class="example"><em>Ej: ${item.ex1}</em></p>
                        <hr>
                        <p class="definition"><strong>${item.term2}:</strong> ${item.def2}</p>
                        <p class="example"><em>Ej: ${item.ex2}</em></p>
                    `;
                    container.appendChild(card);
                });
            }

            function showGlossary() {
                lobbySection.classList.add('hidden');
                glossarySection.classList.remove('hidden');
                quizSection.classList.add('hidden');
                resultsSection.classList.add('hidden');
                populateGlossary();
            }

            function showQuiz() {
                glossarySection.classList.add('hidden');
                quizSection.classList.remove('hidden');
                optionsContainer.classList.remove('hidden');
                currentQuestionIndex = 0;
                score = 0;
                displayQuestion();
            }

            function displayQuestion() {
                // Reset styles
                optionButtons.forEach(btn => {
                    btn.className = 'option-btn';
                    btn.disabled = false;
                });

                if (currentQuestionIndex >= quizQuestions.length) {
                    showResults();
                    return;
                }

                const question = quizQuestions[currentQuestionIndex];
                questionContainer.textContent = question.question;
                
                const shuffledOptions = [...question.options].sort(() => Math.random() - 0.5);

                optionButtons.forEach((button, index) => {
                    button.textContent = shuffledOptions[index];
                });

                currentQuestionSpan.textContent = currentQuestionIndex + 1;
                totalQuestionsSpan.textContent = quizQuestions.length;
            }

            function handleOptionClick(e) {
                const selectedButton = e.target;
                const correctAnswer = quizQuestions[currentQuestionIndex].answer;

                if (selectedButton.textContent === correctAnswer) {
                    score++;
                    selectedButton.classList.add('correct');
                } else {
                    selectedButton.classList.add('incorrect');
                }
                
                optionButtons.forEach(btn => {
                    btn.disabled = true;
                    if (btn.textContent === correctAnswer) {
                        btn.classList.add('correct');
                    }
                });

                setTimeout(() => {
                    currentQuestionIndex++;
                    displayQuestion();
                }, 1500); // 1.5-second delay before next question
            }
            
            function showResults() {
                quizSection.classList.add('hidden');
                resultsSection.classList.remove('hidden');
                finalScoreSpan.textContent = score;
                totalQuestionsFinalSpan.textContent = quizQuestions.length;
            }

            // --- Event Listeners ---
            createGameBtn.addEventListener('click', () => {
                const gameCode = Math.floor(10000 + Math.random() * 90000); // Generate 5-digit code
                const url = `${window.location.origin}${window.location.pathname}?game=${gameCode}`;
                
                gameCodeDisplay.textContent = gameCode;
                shareableLink.href = url;
                shareableLink.textContent = url;
                gameLinkContainer.classList.remove('hidden');
            });

            startLearningBtn.addEventListener('click', showGlossary);

            joinGameBtn.addEventListener('click', () => {
                const code = gameCodeInput.value;
                if (code.match(/^\d{5}$/)) { // Simple validation for a 5-digit code
                    showGlossary();
                } else {
                    alert('Por favor, introduce un código de juego válido de 5 dígitos.');
                }
            });

            finishReviewBtn.addEventListener('click', showQuiz);

            optionButtons.forEach(button => {
                button.addEventListener('click', handleOptionClick);
            });
            
            restartQuizBtn.addEventListener('click', () => {
                resultsSection.classList.add('hidden');
                showQuiz();
            });

            returnToGlossaryBtn.addEventListener('click', () => {
                resultsSection.classList.add('hidden');
                showGlossary();
            });

            // --- Initial Check ---
            const urlParams = new URLSearchParams(window.location.search);
            const gameCode = urlParams.get('game');
            if (gameCode) {
                gameCodeInput.value = gameCode;
                showGlossary();
            }
        });
    </script>

</body>
</html>